<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Login | Synapse</title>

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Font Awesome -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>

<body class="bg-gradient-to-br from-blue-700 to-indigo-900 min-h-screen flex items-center justify-center">

  <!-- Login Card -->
  <div class="bg-white w-full max-w-md rounded-2xl shadow-xl p-8">

    <!-- Logo -->
    <div class="text-center mb-6">
      <h1 class="text-3xl font-extrabold text-blue-600 tracking-tight">
        CODE-BUDDY
      </h1>
      <p class="text-gray-500 text-sm mt-1">
        Skill-Matching Platform
      </p>
    </div>

    <!-- Heading -->
    <h2 class="text-xl font-bold text-gray-800 text-center mb-6">
      Login to your account
    </h2>

    <!-- Login Form -->
    <form class="space-y-5">

      <!-- Email -->
      <div>
        <label class="block text-sm font-semibold text-gray-600 mb-1">
          Enter Your Email
        </label>
        <input 
          type="email"
          placeholder="example123@gmail.com"
          class="w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
          required
        />
      </div>

      <!-- Password -->
      <div>
        <label class="block text-sm font-semibold text-gray-600 mb-1">
          Password
        </label>
        <input 
          type="password"
          placeholder="*********"
          class="w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
          required
        />
      </div>

      <!-- Login Button -->
    <button
      type="submit"
      class="w-full bg-blue-600 text-white py-3 rounded-lg font-bold hover:bg-blue-700 transition flex items-center justify-center gap-2"
      onclick="loginUser(event)"
      >
        <i class="fa-solid fa-right-to-bracket"></i>
        Login
      </button>
    </form>

    <!-- Extra Options -->
    <div class="mt-6 text-center text-sm text-gray-500">
      <p>Not Registered Yet?</p>
      <a href="register.html" class="text-blue-600 font-semibold hover:underline">
        Register Here
      </a>
    </div>

    <!-- Trust Badge -->
    <div class="mt-6 text-center text-xs text-gray-400 flex justify-center items-center gap-2">
      <i class="fa-solid fa-shield-halved text-green-500"></i>
      your data is  secure with CODE-BUDDY
    </div>

  </div>

</body>
</html>

</body>
</html>
<script>
async function loginUser(e) {
  e.preventDefault();

  try {
    const email = document.querySelector("input[type=email]").value;
    const password = document.querySelector("input[type=password]").value;

    const res = await fetch("http://localhost:5000/api/auth/login", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ email, password })
    });

    const data = await res.json();
    if (res.ok) {
      // Save userId in localStorage for Dashboard usage
      localStorage.setItem("userId", data.userId);

      // âœ… Redirect to dashboard automatically
      window.location.href = "dashboard.html";
    } else {
      alert(data); // Show error like "User not found" or "Wrong password"
    }
  } catch (err) {
    console.error(err);
    alert("Server error, try again!");
  }
}
</script>
